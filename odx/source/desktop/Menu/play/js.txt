require([
    "dijit/Menu",
    "dijit/MenuItem",
    "dijit/CheckedMenuItem",
    "dijit/MenuSeparator",
    "dijit/PopupMenuItem",
    "dojo/domReady!"
], function(Menu, MenuItem, CheckedMenuItem, MenuSeparator, PopupMenuItem){
    var pMenu;
    pMenu = new Menu({${props},{
        targetNodeIds: ["${id}"]
    });
    pMenu.addChild(new MenuItem({
        label: "Simple menu item"
    }));
    pMenu.addChild(new MenuItem({
        label: "Disabled menu item",
        disabled: true
    }));
    pMenu.addChild(new MenuItem({
        label: "Menu Item With an icon",
        iconClass: "dijitEditorIcon dijitEditorIconCut",
        onClick: function(){alert('i was clicked')}
    }));
    pMenu.addChild(new CheckedMenuItem({
        label: "checkable menu item"
    }));
    pMenu.addChild(new MenuSeparator());

    var pSubMenu = new Menu();
    pSubMenu.addChild(new MenuItem({
        label: "Submenu item"
    }));
    pSubMenu.addChild(new MenuItem({
        label: "Submenu item"
    }));
    pMenu.addChild(new PopupMenuItem({
        label: "Submenu",
        popup: pSubMenu
    })}, "${id}");

    pMenu.startup();
});

<span id="${id}">Right click me to get a menu</span>